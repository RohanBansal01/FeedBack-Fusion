package com.feedbackfusion.presentation;

import com.feedbackfusion.model.Feedback;
import com.feedbackfusion.service.FeedbackService;

import java.awt.*;
import java.awt.event.*;
import java.sql.SQLException;
import java.util.List;

public class FeedbackForm extends Frame {

    private final FeedbackService service;

    // UI fields
    private final TextField idField = new TextField(6);
    private final Choice typeChoice = new Choice();
    private final TextField ratingField = new TextField(5);
    private final TextArea commentsArea = new TextArea(4, 40);
    private final TextArea listArea = new TextArea(12, 60);
    private final Label statusLabel = new Label(" ");

    public FeedbackForm(FeedbackService service) {
        this.service = service;

        setTitle("FeedbackFusion - AWT CRUD");
        setSize(700, 600);
        setLayout(new BorderLayout(10, 10));
        setBackground(new Color(245, 245, 245));
        setFont(new Font("Arial", Font.PLAIN, 14));

        // Header
        Label header = new Label("FeedbackFusion (Create / Read / Update / Delete)", Label.CENTER);
        header.setFont(new Font("Arial", Font.BOLD, 18));
        header.setForeground(new Color(0, 102, 204));
        add(header, BorderLayout.NORTH);

        // Center form
        Panel form = new Panel(new GridBagLayout());
        form.setBackground(Color.WHITE);
        GridBagConstraints gbc = new GridBagConstraints();
        gbc.insets = new Insets(8, 10, 8, 10);
        gbc.fill = GridBagConstraints.HORIZONTAL;

        // Row 0: ID (for Update/Delete)
        gbc.gridx = 0; gbc.gridy = 0; form.add(new Label("ID (for Update/Delete):"), gbc);
        gbc.gridx = 1; form.add(idField, gbc);

        // Row 1: Category (Choice)
        gbc.gridx = 0; gbc.gridy = 1; form.add(new Label("Category:"), gbc);
        typeChoice.add("Food Quality");
        typeChoice.add("Service");
        typeChoice.add("Ambiance");
        typeChoice.add("Cleanliness");
        gbc.gridx = 1; form.add(typeChoice, gbc);

        // Row 2: Rating
        gbc.gridx = 0; gbc.gridy
